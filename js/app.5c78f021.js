(function(t){function e(e){for(var n,o,s=e[0],u=e[1],l=e[2],p=0,f=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,s=1;s<r.length;s++){var u=r[s];0!==i[u]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},i={app:0},a=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var c=u;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},1359:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container",attrs:{id:"app"}},[r("Navbar",{attrs:{user:t.user},on:{signIn:t.signInWithGoogle,signOut:t.signOut}}),r("div",{staticClass:"row"},t._l(t.items,(function(t){return r("WishlistItemCard",{key:t.name,attrs:{item:t}})})),1),t.user?r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("AddForm",{on:{submit:function(e){return t.addWishlistItem(e)}}})],1)]):t._e()],1)},a=[],o=r("5530"),s=(r("d81d"),r("260b")),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h3",[t._v("Добавить желание")]),t.show?r("b-form",{attrs:{id:"item-add-form"},on:{submit:t.onSubmit,reset:t.onReset}},[r("b-form-group",{attrs:{id:"input-group-name",label:"Что я хочу:","label-for":"input-name"}},[r("b-form-input",{attrs:{id:"input-name",placeholder:"Новая куртка",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("b-form-group",{attrs:{id:"input-group-cost",label:"Стоимость:","label-for":"input-cost",description:""}},[r("b-form-input",{attrs:{id:"input-cost",type:"number",min:"0",step:"0.01",placeholder:"10000.0",required:""},model:{value:t.form.cost,callback:function(e){t.$set(t.form,"cost",e)},expression:"form.cost"}})],1),r("b-form-group",{attrs:{id:"input-group-link",label:"Ссылка на товар:","label-for":"input-link"}},[r("b-form-input",{attrs:{id:"input-link",type:"url",placeholder:"https://..."},model:{value:t.form.link,callback:function(e){t.$set(t.form,"link",e)},expression:"form.link"}})],1),r("b-form-group",{attrs:{id:"input-group-private"}},[r("b-form-checkbox",{model:{value:t.form.private,callback:function(e){t.$set(t.form,"private",e)},expression:"form.private"}},[t._v("Приватный")])],1),r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Добавить")]),r("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Сброс")])],1):t._e()],1)},l=[],c=(r("b0c0"),r("9911"),{data:function(){return{form:{name:"",cost:"",link:"",private:!1},show:!0}},methods:{onSubmit:function(t){t.preventDefault(),this.$emit("submit",this.form),console.log(JSON.stringify(this.form))},onReset:function(t){var e=this;t.preventDefault(),this.form.name="",this.form.cost="",this.form.link="",this.form.private=!1,this.show=!1,this.$nextTick((function(){e.show=!0}))}}}),p=c,f=r("2877"),d=Object(f["a"])(p,u,l,!1,null,"73a219ee",null),m=d.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card col-12 wishlist-item"},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"wishlist-item-card"}),r("h5",{staticClass:"card-title"},[t._v(t._s(t.item.name))]),r("p",[r("b",[t._v(t._s(t.item.cost)+" ₽.")])]),t.item.link?r("a",{staticClass:"card-link",attrs:{target:"_blank",href:t.item.link}},[t._v("Открыть")]):r("span",{staticStyle:{color:"gray"}},[t._v("Ссылка отсутствует")])])])},h=[],v={name:"WishlistItemCard",props:{item:{type:Object,required:!0}}},g=v,_=(r("af3b"),Object(f["a"])(g,b,h,!1,null,null,null)),y=_.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"light"}},[r("b-navbar-brand",{attrs:{href:"#"}},[r("b-avatar",{attrs:{square:"",variant:"light",src:t.logoUrl}}),t._v(" WishList ")],1),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav"),r("b-navbar-nav",{staticClass:"ml-auto"},[t.user?r("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("b-avatar",{attrs:{variant:"light",src:t.user.photoURL}})]},proxy:!0}],null,!1,437563149)},[r("b-dropdown-item",{attrs:{disabled:"",href:"/user/"+t.user.uid}},[t._v(t._s(t.user.displayName||t.user.email))]),r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.$emit("signOut")}}},[t._v("Sign Out")])],1):t._e(),t.user?t._e():r("b-nav-item",{attrs:{right:""},on:{click:function(e){return t.$emit("signIn")}}},[r("b-icon",{attrs:{icon:"google"}}),t._v(" Войти")],1)],1)],1)],1)},w=[],O={name:"Navbar",props:{user:{type:Object,required:!0}},data:function(){return{logoUrl:r("cf05")}}},j=O,x=Object(f["a"])(j,k,w,!1,null,"22b046d0",null),I=x.exports,S={name:"App",components:{Navbar:I,WishlistItemCard:y,AddForm:m},data:function(){return{user:null,form:{name:""},items:[]}},methods:{signInWithGoogle:function(){var t=new s["a"].auth.GoogleAuthProvider;s["a"].auth().signInWithPopup(t)},signOut:function(){s["a"].auth().signOut()},addWishlistItem:function(t){alert("adding"),s["a"].firestore().collection("wishlistItems").add(Object(o["a"])(Object(o["a"])({},t),{},{uid:this.user.uid}))}},mounted:function(){var t=this;s["a"].auth().onAuthStateChanged((function(e){t.user=e,s["a"].firestore().collection("wishlistItems").where("uid","==",t.user.uid||"").onSnapshot((function(e){t.items=e.docs.map((function(t){return t.data()}))}))}))}},C=S,$=(r("034f"),Object(f["a"])(C,i,a,!1,null,null,null)),P=$.exports,W=(r("ea7b"),r("e71f"),r("5f5b")),A=r("b1e0");r("f9e3"),r("2dd8");n["default"].use(W["a"]),n["default"].use(A["a"]);var N={apiKey:"AIzaSyBLGiP1kAHt-gM6foaONlhD0Satwe38Vlk",authDomain:"receipt-project-88138.firebaseapp.com",databaseURL:"https://receipt-project-88138.firebaseio.com",projectId:"receipt-project-88138",storageBucket:"receipt-project-88138.appspot.com",messagingSenderId:"970273276542",appId:"1:970273276542:web:c3de5d19047ce2863b8e2f"};s["a"].initializeApp(N),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(P)}}).$mount("#app")},"85ec":function(t,e,r){},af3b:function(t,e,r){"use strict";r("1359")},cf05:function(t,e,r){t.exports=r.p+"img/logo.822882ee.png"}});
//# sourceMappingURL=app.5c78f021.js.map